<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JB INMOBILIARIA - Inmobiliaria</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #111111;
            --bg-light: #f8f9fa;
            --text-dark: #212529;
            --text-light: #e9ecef;
            --accent-gold: #c0a062;
            --accent-gold-dark: #a88c50;
        }
        * {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .luxury-font {
            font-family: 'Playfair Display', serif;
        }
        body {
            background-color: var(--bg-dark);
            color: var(--text-light);
        }
        .hero-section {
            position: relative;
            overflow: hidden;
            height: 100vh;
        }
        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=2071');
            background-size: cover;
            background-position: center;
            animation: kenburns 20s ease-out infinite alternate;
        }
        @keyframes kenburns {
            0% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }
        .hero-content {
            position: relative;
            z-index: 2;
        }
        .premium-card {
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        .premium-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        }
        .property-image-container {
            overflow: hidden;
            position: relative;
        }
        .property-image {
            transition: transform 0.5s ease;
        }
        .premium-card:hover .property-image {
            transform: scale(1.05);
        }
        .property-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 60%);
            opacity: 0;
            transition: opacity 0.5s ease;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 1.5rem;
            color: white;
        }
        .premium-card:hover .property-overlay {
            opacity: 1;
        }
        .overlay-content {
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.4s ease 0.2s;
        }
        .premium-card:hover .overlay-content {
            transform: translateY(0);
            opacity: 1;
        }
        .luxury-button {
            background-color: var(--accent-gold);
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid var(--accent-gold-dark);
        }
        .luxury-button:hover {
            background-color: var(--accent-gold-dark);
            box-shadow: 0 10px 20px -5px rgba(192, 160, 98, 0.4), 0 0 15px rgba(192, 160, 98, 0.3);
            transform: translateY(-3px);
        }
        .nav-luxury {
            background: rgba(17, 17, 17, 0.85);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(192, 160, 98, 0.2);
        }
        .tab-luxury {
            color: var(--text-light);
            transition: all 0.3s ease;
            position: relative;
            border-bottom: 2px solid transparent;
        }
        .tab-luxury.active {
            color: var(--accent-gold);
            border-bottom-color: var(--accent-gold);
        }
        .section-light {
            background-color: var(--bg-light);
            color: var(--text-dark);
        }
        .section-dark {
            background-color: #1a1a1a;
            color: var(--text-light);
        }
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .luxury-divider {
            height: 1px;
            width: 80px;
            margin: 2rem auto;
            background: var(--accent-gold);
        }
        .price-luxury {
            color: var(--accent-gold);
            font-weight: 700;
        }
        .whatsapp-button {
            background: #25D366;
            color: white;
            transition: all 0.3s ease;
        }
        .whatsapp-button:hover {
            background: #128C7E;
            transform: scale(1.05);
        }
        .star-rating {
            color: var(--accent-gold);
        }
        .powered-by-text {
            color: #888;
            font-weight: 500;
        }
        .input-luxury {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(192, 160, 98, 0.3);
            color: var(--text-light);
            transition: all 0.3s ease;
        }
        .input-luxury::placeholder {
            color: #9ca3af;
        }
        .input-luxury:focus {
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(192, 160, 98, 0.2);
            background: rgba(0, 0, 0, 0.3);
        }
        /* AI Chat Styles */
        #chat-window { overflow-y: auto; display: flex; flex-direction: column; gap: 1rem; }
        .chat-message { padding: 0.75rem 1.25rem; border-radius: 1.5rem; max-width: 80%; line-height: 1.5; }
        .user-message { background-color: var(--accent-gold); color: white; align-self: flex-end; border-bottom-right-radius: 0.5rem; }
        .ai-message { background-color: #e9ecef; color: var(--text-dark); align-self: flex-start; border-bottom-left-radius: 0.5rem; }
        .loading-message { align-self: flex-start; }
        .loading-dots span { display: inline-block; width: 8px; height: 8px; background-color: var(--accent-gold); border-radius: 50%; animation: bounce 1.4s infinite ease-in-out both; }
        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }
        .parallax-section {
            background-image: url('https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?q=80&w=1920');
            min-height: 400px;
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            position: relative;
        }
        /* Process Section Styles */
        .process-step {
            position: relative;
            padding-left: 2.5rem;
            padding-bottom: 2.5rem;
        }
        .process-step:last-child {
            padding-bottom: 0;
        }
        .process-step::before {
            content: '';
            position: absolute;
            left: 18px; /* Center with the icon */
            top: 44px;
            width: 2px;
            height: calc(100% - 44px);
            background-color: #e5e7eb;
        }
        .process-step:last-child::before {
            display: none;
        }
        .process-icon {
            position: absolute;
            left: 0;
            top: 0;
            width: 40px;
            height: 40px;
            background-color: var(--accent-gold);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }
        .contact-card {
            transition: all 0.4s ease;
            position: relative;
        }
        .contact-card:hover {
            transform: scale(1.03);
            box-shadow: 0 20px 40px -10px rgba(0,0,0,0.2);
        }
        .contact-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 0.5rem;
            border: 2px solid transparent;
            transition: all 0.4s ease;
            pointer-events: none;
        }
        .contact-card:hover::after {
            border-color: var(--accent-gold);
            box-shadow: 0 0 20px var(--accent-gold);
        }
        .whatsapp-icon {
            animation: pulse-whatsapp 2s infinite;
        }
        @keyframes pulse-whatsapp {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .philosophy-card {
            transition: transform 0.4s ease;
            transform-style: preserve-3d;
        }
        .philosophy-card:hover {
            transform: perspective(1000px) rotateY(5deg) scale(1.05);
        }
        .ai-section-bg {
            position: relative;
            overflow: hidden;
        }
        .ai-section-bg::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 150%;
            height: 150%;
            background: radial-gradient(circle, rgba(192, 160, 98, 0.1), transparent 50%);
            animation: rotate-glow 30s linear infinite;
            transform-origin: center center;
            transform: translate(-50%, -50%);
        }
        @keyframes rotate-glow {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>
</head>
<body class="bg-dark">
    <!-- Navigation -->
    <nav class="nav-luxury fixed w-full top-0 z-50 transition-all duration-300">
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex items-center">
                    <a href="#inicio">
                        <img src="https://i.imgur.com/K3SiOmK.png" alt="JB Inmobiliaria Logo" class="h-12">
                    </a>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="#inicio" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Inicio</a>
                        <a href="#filosofia" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Nosotros</a>
                        <a href="#propiedades" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Propiedades</a>
                        <a href="#proceso" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Proceso</a>
                        <a href="#testimonios" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Testimonios</a>
                        <a href="#ia-chat" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Asistente IA</a>
                        <a href="#contacto" class="luxury-button text-sm font-medium px-5 py-2.5 rounded-lg">Contacto</a>
                    </div>
                </div>
                <div class="md:hidden"><button id="mobile-menu-btn" class="text-white hover:text-gray-300 p-2"><i class="fas fa-bars text-2xl"></i></button></div>
            </div>
        </div>
        <div id="mobile-menu" class="md:hidden hidden"><div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            <a href="#inicio" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Inicio</a>
            <a href="#filosofia" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Nosotros</a>
            <a href="#propiedades" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Propiedades</a>
            <a href="#proceso" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Proceso</a>
            <a href="#testimonios" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Testimonios</a>
            <a href="#ia-chat" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Asistente IA</a>
            <a href="#contacto" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Contacto</a>
        </div></div>
    </nav>

    <!-- Hero Section -->
    <section id="inicio" class="hero-section flex items-center justify-center text-center text-white">
        <div class="hero-background"></div>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="animate-on-scroll">
                <h1 class="text-5xl md:text-7xl font-black mb-6 leading-tight luxury-font" style="text-shadow: 2px 2px 10px rgba(0,0,0,0.5);">El Arte de Vivir Excepcionalmente</h1>
                <p class="text-lg md:text-xl mb-12 max-w-3xl mx-auto text-gray-200" style="text-shadow: 1px 1px 5px rgba(0,0,0,0.5);">Descubra una selección curada de las propiedades más exclusivas. En JB Inmobiliaria, transformamos sus aspiraciones en realidad.</p>
                <div class="space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center">
                    <a href="#propiedades" class="luxury-button w-full sm:w-auto px-8 py-4 rounded-lg font-semibold text-lg shadow-lg inline-flex items-center justify-center"><i class="fas fa-th-large mr-3"></i>Ver Propiedades</a>
                    <a href="#contacto" class="w-full sm:w-auto px-8 py-4 rounded-lg font-semibold text-lg inline-flex items-center justify-center border-2 border-white hover:bg-white hover:text-black transition-colors"><i class="fas fa-phone mr-3"></i>Contactar</a>
                </div>
            </div>
        </div>
    </section>

    <main>
        <!-- Stats Section -->
        <section class="py-20 bg-black">
            <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                    <div class="animate-on-scroll" data-target="3"><p class="text-4xl md:text-5xl font-bold text-accent-gold">0</p><p class="text-sm text-gray-400 uppercase tracking-widest mt-2">Años de Experiencia</p></div>
                    <div class="animate-on-scroll" style="transition-delay: 0.1s;" data-target="87"><p class="text-4xl md:text-5xl font-bold text-accent-gold">0</p><p class="text-sm text-gray-400 uppercase tracking-widest mt-2">Propiedades Vendidas</p></div>
                    <div class="animate-on-scroll" style="transition-delay: 0.2s;" data-target="98"><p class="text-4xl md:text-5xl font-bold text-accent-gold">0</p><p class="text-sm text-gray-400 uppercase tracking-widest mt-2">% Clientes Satisfechos</p></div>
                    <div class="animate-on-scroll" style="transition-delay: 0.3s;" data-target="5"><p class="text-4xl md:text-5xl font-bold text-accent-gold">0</p><p class="text-sm text-gray-400 uppercase tracking-widest mt-2">Premios Ganados</p></div>
                </div>
            </div>
        </section>
        
        <!-- Philosophy Section -->
        <section id="filosofia" class="py-24 md:py-32 section-light">
            <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-20 animate-on-scroll">
                    <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4 luxury-font">Nuestra Filosofía</h2>
                    <div class="luxury-divider"></div>
                    <p class="text-lg text-gray-600 max-w-3xl mx-auto">Más que una inmobiliaria, somos arquitectos de experiencias. Nuestro legado se construye sobre la confianza, la excelencia y un servicio que trasciende lo convencional.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                    <div class="text-center animate-on-scroll philosophy-card"><div class="text-4xl text-accent-gold mb-4"><i class="fas fa-bullseye"></i></div><h3 class="text-2xl font-bold text-gray-900 mb-2 luxury-font">Misión</h3><p class="text-gray-600">Conectar a nuestros clientes con propiedades extraordinarias que definen un estilo de vida, a través de una asesoría íntegra y personalizada.</p></div>
                    <div class="text-center animate-on-scroll philosophy-card" style="transition-delay: 0.2s;"><div class="text-4xl text-accent-gold mb-4"><i class="fas fa-eye"></i></div><h3 class="text-2xl font-bold text-gray-900 mb-2 luxury-font">Visión</h3><p class="text-gray-600">Ser el referente indiscutible en el sector inmobiliario de lujo, reconocidos por nuestra curaduría impecable y la creación de valor duradero para nuestros clientes.</p></div>
                    <div class="text-center animate-on-scroll philosophy-card" style="transition-delay: 0.4s;"><div class="text-4xl text-accent-gold mb-4"><i class="fas fa-gem"></i></div><h3 class="text-2xl font-bold text-gray-900 mb-2 luxury-font">Valores</h3><p class="text-gray-600">Excelencia, discreción, integridad y una pasión inquebrantable por la arquitectura y el diseño son los pilares de nuestro trabajo diario.</p></div>
                </div>
            </div>
        </section>
        
        <!-- Properties Section -->
        <section id="propiedades" class="py-24 md:py-32 section-dark">
            <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12 animate-on-scroll"><h2 class="text-4xl md:text-5xl font-bold text-white mb-4 luxury-font">Propiedades Destacadas</h2><div class="luxury-divider"></div></div>
                <div class="flex flex-wrap justify-center gap-4 mb-12 animate-on-scroll"><select id="filter-type" class="bg-gray-700 text-white border border-gray-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-accent-gold"><option value="all">Tipo de Propiedad</option><option value="terreno">Terreno</option><option value="casa">Casa</option></select></div>
                <div id="property-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
            </div>
        </section>

        <!-- Process Section -->
        <section id="proceso" class="py-24 md:py-32 section-light">
            <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-20 animate-on-scroll"><h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4 luxury-font">Nuestro Proceso</h2><div class="luxury-divider"></div><p class="text-lg text-gray-600 max-w-3xl mx-auto">Un servicio transparente y meticuloso en cada etapa de su viaje inmobiliario.</p></div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-8 gap-y-16">
                    <div class="process-step animate-on-scroll"><div class="process-icon"><i class="fas fa-comments"></i></div><h3 class="text-xl font-bold text-gray-900 mb-2 luxury-font">1. Consulta</h3><p class="text-gray-600">Entendemos sus necesidades y aspiraciones en una consulta confidencial.</p></div>
                    <div class="process-step animate-on-scroll" style="transition-delay: 0.2s;"><div class="process-icon"><i class="fas fa-search-location"></i></div><h3 class="text-xl font-bold text-gray-900 mb-2 luxury-font">2. Selección</h3><p class="text-gray-600">Presentamos una selección curada de propiedades que se alinean con su visión.</p></div>
                    <div class="process-step animate-on-scroll" style="transition-delay: 0.4s;"><div class="process-icon"><i class="fas fa-signature"></i></div><h3 class="text-xl font-bold text-gray-900 mb-2 luxury-font">3. Negociación</h3><p class="text-gray-600">Gestionamos todo el proceso de negociación para asegurar los mejores términos.</p></div>
                    <div class="process-step animate-on-scroll" style="transition-delay: 0.6s;"><div class="process-icon"><i class="fas fa-key"></i></div><h3 class="text-xl font-bold text-gray-900 mb-2 luxury-font">4. Entrega</h3><p class="text-gray-600">Coordinamos un cierre impecable y le entregamos las llaves de su nueva propiedad.</p></div>
                </div>
            </div>
        </section>

        <!-- Parallax CTA Section -->
        <section class="parallax-section flex items-center justify-center">
            <div class="hero-overlay"></div>
            <div class="hero-content text-center text-white animate-on-scroll">
                <h2 class="text-4xl md:text-5xl font-bold luxury-font mb-4">Encuentre su Próximo Hogar</h2>
                <p class="text-lg mb-8 max-w-2xl mx-auto">Permítanos guiarle en la búsqueda de una propiedad que no solo cumpla, sino que supere sus expectativas.</p>
                <a href="#contacto" class="luxury-button px-8 py-4 rounded-lg font-semibold text-lg shadow-lg">Iniciar Conversación</a>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonios" class="py-24 md:py-32 section-light">
            <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-20 animate-on-scroll"><h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4 luxury-font">Testimonios</h2><div class="luxury-divider"></div><p class="text-lg text-gray-600 max-w-3xl mx-auto">La confianza de nuestros clientes es nuestro activo más valioso.</p></div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="premium-card bg-white rounded-lg p-8 shadow-sm animate-on-scroll"><div class="flex items-center mb-5"><img src="https://images.unsplash.com/photo-1568602471122-7832951cc4c5?q=80&w=400" alt="Cliente Satisfecho" class="w-14 h-14 rounded-full object-cover mr-4 border-2 border-accent-gold"><div><h4 class="text-lg font-bold text-gray-900 luxury-font">Marcelo Luna</h4><p class="text-gray-500 text-sm">Empresario Local</p></div></div><div class="flex star-rating mb-4"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div><p class="text-gray-700 leading-relaxed">"El profesionalismo de JB Inmobiliaria es inigualable. Encontraron la inversión perfecta para mi portafolio con una discreción y eficacia absolutas."</p></div>
                    <div class="premium-card bg-white rounded-lg p-8 shadow-sm animate-on-scroll" style="transition-delay: 0.2s;"><div class="flex items-center mb-5"><img src="https://images.unsplash.com/photo-1557862921-37829c790f19?q=80&w=400" alt="Cliente Satisfecho" class="w-14 h-14 rounded-full object-cover mr-4 border-2 border-accent-gold"><div><h4 class="text-lg font-bold text-gray-900 luxury-font">Miguel Barajas</h4><p class="text-gray-500 text-sm">Dueño de Negocio</p></div></div><div class="flex star-rating mb-4"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div><p class="text-gray-700 leading-relaxed">"El proceso de compra fue transparente y sorprendentemente sencillo. Su atención al detalle y servicio personalizado marcan la diferencia."</p></div>
                    <div class="premium-card bg-white rounded-lg p-8 shadow-sm animate-on-scroll" style="transition-delay: 0.4s;"><div class="flex items-center mb-5"><img src="https://images.unsplash.com/photo-1615109398623-88346a601842?q=80&w=400" alt="Cliente Satisfecho" class="w-14 h-14 rounded-full object-cover mr-4 border-2 border-accent-gold"><div><h4 class="text-lg font-bold text-gray-900 luxury-font">Ernesto Ortiz</h4><p class="text-gray-500 text-sm">Emprendedor Local</p></div></div><div class="flex star-rating mb-4"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div><p class="text-gray-700 leading-relaxed">"Desde el primer contacto hasta la firma, el servicio fue impecable. La dedicación del equipo me dio una tranquilidad invaluable."</p></div>
                </div>
            </div>
        </section>

        <!-- AI Chat Section -->
        <section id="ia-chat" class="py-24 md:py-32 section-dark ai-section-bg">
            <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="text-center mb-20 animate-on-scroll"><h2 class="text-4xl md:text-5xl font-bold text-white mb-4 luxury-font">Asistente IA</h2><div class="luxury-divider"></div><p class="text-lg text-gray-400 max-w-3xl mx-auto">Utilice nuestro asistente inteligente para encontrar su propiedad ideal, resolver dudas o explorar opciones de financiamiento de forma instantánea.</p><p class="text-xs powered-by-text tracking-widest mt-4">POWERED BY WEAVYAGENCY</p></div>
                <div class="max-w-3xl mx-auto animate-on-scroll">
                    <div class="glass-morphism rounded-xl p-8 shadow-lg">
                        <div id="chat-window-container" class="bg-white/90 rounded-lg p-6 mb-6 min-h-[400px] border border-gray-700 flex flex-col"><div id="chat-window" class="flex-grow"><div class="chat-message ai-message">¡Hola! Soy su asistente IA de JB Inmobiliaria. ¿Cómo puedo ayudarle hoy?</div></div></div>
                        <div class="flex space-x-4"><input type="text" id="chat-input" placeholder="Escriba su consulta..." class="input-luxury flex-1 px-5 py-3 rounded-lg text-base focus:outline-none"><button id="send-btn" class="luxury-button px-6 py-3 rounded-lg font-bold text-base text-white"><i class="fas fa-paper-plane"></i></button></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contacto" class="py-24 md:py-32 section-light">
            <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-20 animate-on-scroll"><h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4 luxury-font">Contacto</h2><div class="luxury-divider"></div><p class="text-lg text-gray-600 max-w-3xl mx-auto">Estamos a su disposición para atender sus requerimientos con la máxima discreción y profesionalismo.</p></div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                    <div class="animate-on-scroll">
                        <img src="https://images.unsplash.com/photo-1580587771525-78b9dba3b914?q=80&w=1200" class="rounded-lg shadow-xl w-full h-full object-cover">
                    </div>
                    <div class="animate-on-scroll" style="transition-delay: 0.2s;">
                         <div class="bg-white rounded-lg p-10 shadow-md text-center contact-card">
                            <div class="text-5xl text-green-500 mb-5 whatsapp-icon"><i class="fab fa-whatsapp"></i></div>
                            <h3 class="text-3xl font-bold text-gray-900 mb-2 luxury-font">WhatsApp</h3>
                            <p class="text-gray-600 mb-6">Para una atención directa e inmediata.</p>
                            <p class="text-2xl font-semibold text-gray-800 mb-8">+52 1 315 152 8506</p>
                            <button id="whatsapp-btn" class="whatsapp-button w-full py-4 rounded-lg font-bold text-lg shadow-md"><i class="fab fa-whatsapp mr-3"></i>CHATEAR AHORA</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-black py-16">
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <a href="#inicio" class="inline-block mb-4">
                    <img src="https://i.imgur.com/K3SiOmK.png" alt="JB Inmobiliaria Logo" class="h-16">
                </a>
                <p class="text-gray-400 text-sm mb-6">Excelencia en Bienes Raíces de Lujo</p>
                <div class="flex justify-center space-x-6 mb-8"><a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-facebook-f"></i></a><a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-instagram"></i></a><a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-twitter"></i></a><a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-linkedin-in"></i></a></div>
                <p class="text-gray-500 text-xs">© 2025 JB Inmobiliaria. Todos los derechos reservados. | <a href="#" class="hover:text-white">Términos de Servicio</a> | <a href="#" class="hover:text-white">Política de Privacidad</a></p>
                <p class="text-gray-600 text-xs mt-4">Diseñado por <a href="https://weavy.agency" target="_blank" class="hover:text-accent-gold transition-colors">Weavy.Agency</a></p>
            </div>
        </div>
    </footer>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Observer Setup ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    if (entry.target.dataset.target) {
                        animateCounter(entry.target);
                        observer.unobserve(entry.target);
                    }
                }
            });
        }, { threshold: 0.15 });

        // --- Animate counters ---
        const animateCounter = (el) => {
            const numberElement = el.querySelector('p:first-child');
            const target = +el.dataset.target;
            const duration = 2000;
            let current = 0;
            const increment = target / (duration / 16);
            
            const updateCount = () => {
                current += increment;
                if (current < target) {
                    numberElement.innerText = Math.ceil(current).toLocaleString();
                    requestAnimationFrame(updateCount);
                } else {
                    numberElement.innerText = target.toLocaleString();
                }
            };
            requestAnimationFrame(updateCount);
        };
        
        // --- Property Data & Filtering ---
        const properties = [
            { id: 1, type: 'casa', price: 0, location: 'playa', title: 'Casa a 2 Cuadras de la Playa', image: 'https://i.imgur.com/XyViWzN.png', beds: 3, baths: 2, details: '10x20, cocina, sala/comedor, cochera techada, área de lavado, acceso independiente a 2da planta.' },
            { id: 2, type: 'casa', price: 0, location: 'residencial', title: 'Casa con Patio para Alberca', image: 'https://i.imgur.com/uypvXJL.png', beds: 3, baths: 3, details: 'A/C en recámaras, cocina, comedor, sala, cochera para 2 coches. Terreno ejidal.' },
            { id: 3, type: 'casa', price: 0, location: 'residencial', title: 'Casa con Escrituras', image: 'https://i.imgur.com/iAvmnBV.png', beds: 3, baths: 1, details: '10x20, sala, cocina, comedor, patio, estacionamiento al frente. Con escrituras.' },
            { id: 4, type: 'casa', price: 0, location: 'melaque', title: 'Casa Perla en Melaque', image: 'https://i.imgur.com/Z5C8iNL.png', beds: 1, baths: 1, details: '6x20, a 2 cuadras del centro, sala, cocina, comedor, área de lavado, patio con espacio para 2da recámara.' },
            { id: 5, type: 'casa', price: 0, location: 'residencial', title: 'Casa Amplia con Cisterna', image: 'https://i.imgur.com/i106i0R.png', beds: 2, baths: 2, details: '10x20, 2 recámaras amplias, cochera para 2 coches, cisterna 8000L. Terreno ejidal.' },
            { id: 6, type: 'casa', price: 0, location: 'carretera', title: 'Casa Cerca de Carretera', image: 'https://i.imgur.com/AR188Xd.png', beds: 2, baths: 1, details: 'Cochera y jardín al frente, patio bardeado con espacio para alberca. Apta para crédito.' },
            { id: 7, type: 'terreno', price: 0, location: 'playa-del-coco', title: 'Terreno en Playa del Coco', image: 'https://i.imgur.com/pEWByqI.png', beds: 0, baths: 0, details: '20x50, con escrituras y todos los servicios disponibles.' }
        ];

        const propertyGrid = document.getElementById('property-grid');
        const filters = document.querySelectorAll('#filter-type');

        const renderProperties = (props) => {
            propertyGrid.innerHTML = '';
            if (props.length === 0) {
                propertyGrid.innerHTML = `<p class="text-gray-400 col-span-3 text-center">No se encontraron propiedades con los filtros seleccionados.</p>`;
                return;
            }
            props.forEach(p => {
                const card = document.createElement('div');
                card.className = 'premium-card rounded-lg overflow-hidden shadow-md animate-on-scroll';
                let specsHTML = '';
                if (p.type === 'casa') {
                    specsHTML = `
                        <div class="flex text-gray-600 space-x-4">
                            <span><i class="fas fa-bed mr-1"></i> ${p.beds}</span>
                            <span><i class="fas fa-bath mr-1"></i> ${p.baths}</span>
                        </div>
                    `;
                }
                card.innerHTML = `
                    <div class="h-64 bg-gray-200 relative property-image-container">
                        <img src="${p.image}" alt="${p.title}" class="w-full h-full object-cover property-image">
                        <div class="absolute top-4 right-4 bg-accent-gold text-white px-3 py-1 rounded-full text-xs uppercase font-bold">${p.type}</div>
                        <div class="property-overlay">
                            <div class="overlay-content">
                                <button class="w-full text-center luxury-button py-2 px-4 rounded-lg text-sm font-semibold contact-btn">Más Información</button>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl font-bold text-gray-900 mb-2 luxury-font">${p.title}</h3>
                        <p class="text-gray-600 mb-4 text-sm">${p.details}</p>
                        <div class="flex justify-between items-center pt-4 border-t border-gray-200">
                            <span class="text-xl price-luxury">Precio a Tratar</span>
                            ${specsHTML}
                        </div>
                    </div>
                `;
                propertyGrid.appendChild(card);
            });
            document.querySelectorAll('#property-grid .animate-on-scroll').forEach(el => observer.observe(el));
        };

        const filterProperties = () => {
            const type = document.getElementById('filter-type').value;
            let filtered = properties.filter(p => type === 'all' || p.type === type);
            renderProperties(filtered);
        };

        filters.forEach(f => f.addEventListener('change', filterProperties));
        
        renderProperties(properties);
        document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));
        
        // --- Mobile Menu ---
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
        }
        
        // --- AI Chat Logic ---
        const chatWindow = document.getElementById('chat-window');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        
        let chatHistory = [];
        
        const addMessage = (text, sender) => {
            const messageElement = document.createElement('div');
            messageElement.classList.add('chat-message', `${sender}-message`);
            messageElement.textContent = text;
            chatWindow.appendChild(messageElement);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        };

        const showLoadingIndicator = () => {
            const loadingElement = document.createElement('div');
            loadingElement.classList.add('chat-message', 'loading-message');
            loadingElement.innerHTML = `<div class="loading-dots"><span></span><span></span><span></span></div>`;
            chatWindow.appendChild(loadingElement);
            chatWindow.scrollTop = chatWindow.scrollHeight;
            return loadingElement;
        };

        const callGeminiAPI = async (prompt) => {
            const systemInstruction = { role: "system", parts: [{ text: "Eres un asistente virtual experto para JB Inmobiliaria, una agencia de bienes raíces de lujo. Tu tono debe ser profesional, servicial y exclusivo. Proporciona respuestas detalladas y útiles sobre propiedades de lujo, financiamiento y el mercado inmobiliario. No menciones que eres un modelo de lenguaje." }] };
            
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            
            const payload = { 
                contents: chatHistory,
                systemInstruction: systemInstruction 
            };
            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                if (!response.ok) throw new Error(`API error: ${response.status} ${response.statusText}`);
                const result = await response.json();
                if (result.candidates && result.candidates[0]) {
                    const aiResponseText = result.candidates[0].content.parts[0].text;
                    chatHistory.push({ role: "model", parts: [{ text: aiResponseText }] });
                    return aiResponseText;
                }
                return "Lo siento, no pude procesar tu solicitud en este momento.";
            } catch (error) {
                console.error("Error calling Gemini API:", error);
                return "Hubo un problema al conectar con nuestro asistente. Por favor, inténtalo más tarde.";
            }
        };

        const handleSendMessage = async () => {
            const userInput = chatInput.value.trim();
            if (!userInput) return;
            addMessage(userInput, 'user');
            chatInput.value = '';
            const loadingIndicator = showLoadingIndicator();
            const aiResponse = await callGeminiAPI(userInput);
            loadingIndicator.remove();
            addMessage(aiResponse, 'ai');
        };

        if (sendBtn) sendBtn.addEventListener('click', handleSendMessage);
        if (chatInput) chatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleSendMessage(); });
        
        // --- Contact Buttons ---
        const whatsappBtn = document.getElementById('whatsapp-btn');
        if (whatsappBtn) {
            whatsappBtn.addEventListener('click', () => window.open('https://wa.me/5213151528506?text=Hola,%20estoy%20interesado%20en%20sus%20propiedades.', '_blank'));
        }

        document.body.addEventListener('click', function(e) {
            if (e.target.closest('.contact-btn')) {
                 window.open('https://wa.me/5213151528506?text=Hola,%20estoy%20interesado%20en%20una%20de%20sus%20propiedades.', '_blank');
            }
        });
    });
    </script>
</body>
</html>
